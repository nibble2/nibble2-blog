---
author: "Nibble"
title: "RDBMS vs NOSQL"
date: "2021-03-03"
tag: "DB"
categories: "내가 정리한 개념"
ShowToc: false
ShowBreadCrumbs: false
---

 # RDBMS(Relational Database Management System)

> 관계형 데이터베이스를 생성하고 수정, 삭제 관리할 수 있는 소프트웨어

- SQL(Structured Query Language) 데이터베이스에서 사용하는 쿼리 언어
- RDB(Relational Database)란 관계형 데이터 모델에 기초를 둔 데이터 베이스
- 데이터는 정해진(엄격한) 데이터 스키마 (= structure)를 따라 데이터베이스 테이블에 저장됩니다.
- 데이터는 관계를 통해서 연결된 여러개의 테이블에 분산됩니다.
    <img src="../../data/images/스크린샷%202021-05-04%20오후%2011.35.02.png"/>

<br />

## **1. 엄격한 스키마**

데이터는 테이블(table)에 레코드(record)로 저장되며, 각 테이블에는 명확하게 정의된 구조(structure)가 있습니다. (구조란 어떤 데이터가 테이블에 들어가고 어떤 데이터가 그렇지 않을지를 정의하는 필드(field) 집합을 가르킵니다.)

구조(structure)는 필드의 이름과 데이터 유형으로 정의됩니다.

<br />

## **2. 관계**

SQL 기반의 데이터 베이스의 또 다른 중요한 부분은 관계입니다.

데이터들을 여러개의 테이블에 나누어서, 데이터들의 중복을 피할 수 있습니다. 만약 사용자가 구입한 상품들을 나타내기 위해서는, Users(사용자), Products(상품), Orders(주문한 상품) 여러 테이블을 만들어야 하지만, 각각의 테이블들은 다른 테이블에 저장되지 않은 데이터 만을 가지고 있습니다. (중복된 데이터가 없습니다.)

- 이런 명확한 구조는 장점이 있습니다. 하나의 테이블에서 중복없이 하나의 데이터만을 관리하기 때문에, 다른 테이블에서 부정확한 데이터를 다룰 위험이 없습니다.

    <img src="data/../../../data/images/스크린샷%202021-05-04%20오후%2011.39.01.png" />


<br />
<br />
<br />

# NOSQL(Not Only SQL)

> 데이터 간의 관계를 정의하지 않는다.

- 스키마 없음
- 관계 없음

NoSQL세상에서는 레코드를 문서(documents)라고 부릅니다.

이것은 단순히 이름만 다른 것이 아니라, 핵심적인 차이점 이있습니다. SQL 세상에서는 정해진 스키마를 따르지 않는다면 데이터를 추가 할 수 없지만, NoSQL에서는 다른 구조의 데이터를 같은 컬렉션(= SQL에서의 테이블)에 추가할 수 있습니다.

- 그럼에도 불구하고, 이러한 방식의 커다란 장점은 복잡하고 (어떤 순간에는 느린) 조인을 사용할 필요가 없다는 것입니다. 필요한 모든 데이터가 이미 하나의 컬렉션안에 저장되어 있기 때문입니다.

    특히 자주 변경되지 않는 데이터 일때 더 큰 장점이 있습니다.


<br />
<br />
<br />

# **수직적(Vertical) & 수평적(Horizontal) 확장(Scaling)**



두 종류의 데이터베이스를 비교 할 때 살펴 봐야할 또 하나의 중요한 개념은 **확장(Scaling)** 입니다.

데이터베이스를 어떤 방식으로 확장 시킬 수 있을까요? (데이터베이스의 서버의 확장성 말입니다.)

확장은 **수직적(vertical) 확장**과 **수평적(horizontal) 확장**으로 구별 할 수 있습니다.

1. **수직적 확장** : 단순히 데이터베이스 서버의 성능을 향상시키는 것입니다. (예를 들어, CPU를 업그레이드 하는 방식으로 말이죠.)

2. **수평적 확장 :** 더 많은 서버가 추가되고 데이터베이스가 전체적으로 분산됨을 의미합니다. 따라서 하나의 데이터베이스에서 작동하지만 여러 호스트에서 작동합니다.




3. 데이터가 저장되는 방식 때문에 **SQL 데이터베이스는 일반적으로 수직적 확장**만을 지원합니다. **수평적 확장은 NoSQL 데이터베이스**에서만 가능합니다.

4. SQL 데이터베이스는 '샤딩(Sharding)'의 개념을 알고 있지만 특정 제한이 있으며 구현하기가 대체로 어렵습니다. NoSQL 데이터베이스는 이를 기본적으로 지원하므로 여러 서버에서 데이터베이스를 쉽게 분리 할 수 있습니다.

    <img src="data/../../../data/images/스크린샷%202021-05-04%20오후%2011.39.42.png" />

<br />
<br />

### 샤딩?

- 샤딩은 수평 분할(Horizontal Partitioning)과 동일하며, 인덱스의 크기를 줄이고, 작업 동시성을 늘리기 위한 것이다.
- 수평 분할(Horizontal Partitioning)이란 스키마(schema)가 같은 데이터를 두 개 이상의 테이블에 나누어 저장하는 디자인을 말한다.
- 가령 같은 주민 데이터를 처리하기 위해 스키마가 같은 '서현동주민 테이블'과 '정자동주민 테이블'을 사용하는 것을 말한다.

<br />

---

<br />

### Reference
- [https://siyoon210.tistory.com/130](https://siyoon210.tistory.com/130)
- [배달의 민족 샤딩](https://woowabros.github.io/experience/2020/07/06/db-sharding.html)
- [샤딩이란?](https://sophia2730.tistory.com/entry/Databases-Database-Sharding%EC%83%A4%EB%94%A9)
